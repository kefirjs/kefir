// transducers-js 0.4.135
// http://github.com/cognitect-labs/transducers-js
// 
// Copyright 2014 Cognitect. All Rights Reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS-IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License..
;(function(){function c(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b};var f={h:function(){return"string"==typeof x}};f.isArray="undefined"!=typeof Array.isArray?function(a){return Array.isArray(a)}:function(a){return"array"==c(a)};f.g=function(a){return"object"==c(a)};f.o=function(a){return a["@@iterator"]||a.next};f.slice=function(a,b,d){return null==d?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,d)};f.complement=function(a){return function(b){return!a.apply(null,f.slice(arguments,0))}};function g(a){this.s=a}
g.prototype.init=function(){throw Error("init not implemented");};g.prototype.result=function(a){return a};g.prototype.step=function(a,b){return this.s(a,b)};f.wrap=function(a){return"function"==typeof a?new g(a):a};function h(a){this.__transducers_reduced__=!0;this.value=a}f.reduced=function(a){return new h(a)};f.isReduced=function(a){return a instanceof h||a&&a.__transducers_reduced__};f.ensureReduced=function(a){return f.isReduced(a)?a:f.reduced(a)};f.deref=function(a){return a.value};
f.unreduced=function(a){return f.isReduced(a)?f.deref(a):a};f.n=function(a){return a};f.comp=function(a){var b=arguments.length;if(2==b){var d=arguments[0],e=arguments[1];return function(a){return d(e.apply(null,f.slice(arguments,0)))}}if(2<b)return f.reduce(f.comp,arguments[0],f.slice(arguments,1))};function k(a,b){this.d=a;this.a=b}k.prototype.init=function(){return this.a.init()};k.prototype.result=function(a){return this.a.result(a)};k.prototype.step=function(a,b){return this.a.step(a,this.d(b))};
f.map=function(a){return function(b){return new k(a,b)}};function l(a,b){this.f=a;this.a=b}l.prototype.init=function(){return this.a.init()};l.prototype.result=function(a){return this.a.result(a)};l.prototype.step=function(a,b){return this.f(b)?this.a.step(a,b):a};f.filter=function(a){return function(b){return new l(a,b)}};f.remove=function(a){return f.filter(f.complement(a))};function m(a,b){this.c=a;this.a=b}m.prototype.init=function(){return this.a.init()};m.prototype.result=function(a){return this.a.result(a)};
m.prototype.step=function(a,b){a=0<this.c?this.a.step(a,b):f.ensureReduced(a);this.c--;return a};f.take=function(a){return function(b){return new m(a,b)}};function n(a,b){this.f=a;this.a=b}n.prototype.init=function(){return this.a.init()};n.prototype.result=function(a){return this.a.result(a)};n.prototype.step=function(a,b){return this.f(b)?this.a.step(a,b):f.reduced(a)};f.takeWhile=function(a){return function(b){return new n(a,b)}};function p(a,b){this.e=-1;this.c=a;this.a=b}p.prototype.init=function(){return this.a.init()};
p.prototype.result=function(a){return this.a.result(a)};p.prototype.step=function(a,b){this.e++;return 0==this.e%this.c?this.a.step(a,b):a};f.takeNth=function(a){return function(b){return new p(a,b)}};function q(a,b){this.c=a;this.a=b}q.prototype.init=function(){return this.a.init()};q.prototype.result=function(a){return this.a.result(a)};q.prototype.step=function(a,b){return 0<this.c?(this.c--,a):this.a.step(a,b)};f.drop=function(a){return function(b){return new q(a,b)}};
function r(a,b){this.drop=!0;this.f=a;this.a=b}r.prototype.init=function(){return this.a.init()};r.prototype.result=function(a){return this.a.result(a)};r.prototype.step=function(a,b){if(this.drop&&this.f(b))return a;this.drop&&(this.drop=!1);return this.a.step(a,b)};f.dropWhile=function(a){return function(b){return new r(a,b)}};f.NONE={};function s(a,b){this.d=a;this.a=b;this.b=[];this.i=f.NONE}s.prototype.init=function(){return this.a.init()};
s.prototype.result=function(a){0<this.b.length&&(a=f.unreduced(this.a.step(a,this.b)),this.b=[]);return this.a.result(a)};s.prototype.step=function(a,b){var d=this.i;this.i=val=this.d(b);if(d==f.NONE||d==val)return this.b.push(b),a;d=this.a.step(a,this.b);this.b=[];f.isReduced(d)||this.b.push(b);return d};f.partitionBy=function(a){return function(b){return new s(a,b)}};function t(a,b){this.c=a;this.a=b;this.b=[]}t.prototype.init=function(){return this.a.init()};
t.prototype.result=function(a){0<this.b.length&&(a=f.unreduced(this.a.step(a,this.b)),this.b=[]);return this.a.result(a)};t.prototype.step=function(a,b){this.b.push(b);if(this.c==this.b.length){var d=this.b;this.b=[];return this.a.step(a,d)}return a};f.partitionAll=function(a){return function(b){return new t(a,b)}};function u(a,b){this.d=a;this.a=b}u.prototype.init=function(){return this.a.init()};u.prototype.result=function(a){return this.a.result(a)};
u.prototype.step=function(a,b){return null==this.d(b)?a:this.a.step(a,b)};f.keep=function(a){return function(b){return new u(a,b)}};function v(a,b){this.e=-1;this.d=a;this.a=b}v.prototype.init=function(){return this.a.init()};v.prototype.result=function(a){return this.a.result(a)};v.prototype.step=function(a,b){this.e++;return null==this.d(this.e,b)?a:this.a.step(a,b)};f.keepIndexed=function(a){return function(b){return new v(a,b)}};
f.r=function(a){return{init:function(){return a.init()},result:function(a){return a},step:function(b,d){var e=a.step(b,d);return f.isReduced(e)?f.reduced(e):e}}};f.cat=function(a){var b=f.r(a);return{init:function(){return a.init()},result:function(b){return a.result(b)},step:function(a,e){return f.reduce(b,a,e)}}};f.mapcat=function(a){return f.comp(f.map(a),f.cat)};f.u=function(a,b,d){for(var e=0;e<d.length;e++)if(b=a.step(b,d.charAt(e)),f.isReduced(b)){b=f.deref(b);break}return a.result(b)};
f.l=function(a,b,d){for(var e=0;e<d.length;e++)if(b=a.step(b,d[e]),f.isReduced(b)){b=f.deref(b);break}return a.result(b)};f.q=function(a,b,d){for(var e in d)if(d.hasOwnProperty(e)&&(b=a.step(b,[e,d[e]]),f.isReduced(b))){b=f.deref(b);break}return a.result(b)};f.p=function(a,b,d){d["@@iterator"]&&(d=d["@@iterator"]());for(var e=d.next();!e.done;){b=a.step(b,e.value);if(f.isReduced(b)){b=f.deref(b);break}e=d.next()}return a.result(b)};
f.reduce=function(a,b,d){if(d){a="function"==typeof a?f.wrap(a):a;if(f.h(d))return f.u(a,b,d);if(f.isArray(d))return f.l(a,b,d);if(f.o(d))return f.p(a,b,d);if(f.g(d))return f.q(a,b,d);throw Error("Cannot reduce instance of "+d.constructor.name);}};f.transduce=function(a,b,d,e){b="function"==typeof b?f.wrap(b):b;a=a(b);return f.reduce(a,d,e)};f.t=function(a,b){return a+b};f.k=function(a,b){a.push(b);return a};f.j=function(a,b){a[b[0]]=b[1];return a};
f.into=function(a,b,d){if(f.h(a))return f.transduce(b,f.t,a,d);if(f.isArray(a))return f.transduce(b,f.k,a,d);if(f.g(a))return f.transduce(b,f.j,a,d)};function w(a,b){this.m=a;this.a=b}w.prototype.init=function(){return this.a.init()};w.prototype.result=function(a){return this.m(a)};w.prototype.step=function(a,b){return this.a.step(a,b)};f.completing=function(a,b){a="function"==typeof a?f.wrap(a):a;b=b||f.n;return new w(b,a)};f.toFn=function(a,b){"function"==typeof b&&(b=f.wrap(b));var d=a(b);return d.step.bind(d)};
f.first=f.wrap(function(a,b){return f.reduced(b)});define("transducers",[],function(){return f});})();
