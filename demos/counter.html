<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Kefir.js counter demo</title>
        <script src="../bower_components/jquery/dist/jquery.js"></script>
        <script src="../dist/kefir.min.js"></script>
        <link rel="stylesheet" type="text/css" href="../docs-src/includes/stylesheet.css">
        <style type="text/css">
          body {
            padding:  0 1em 1em;
            max-width: 700px;
          }
        </style>
    </head>
    <body>

      <p>
        <a href="../">↩ back to Kefir.js documentation</a>
      </p>

      <h1>Kefir.js counter demo</h1>

      <p>
        This is the most basic Kefir.js example.
        Click «+» or «-» buttons to change value in between them.
      </p>

      <h3>Result</h3>

      <button id="plus-btn">+</button>
      <span id="result"></span>
      <button id="minus-btn">-</button>


      <h3>Source code</h3>

      <pre>

&lt;!-- HTML --&gt;

&lt;button id="plus-btn"&gt;+&lt;/button&gt;
&lt;span id="result"&gt;&lt;/span&gt;
&lt;button id="minus-btn"&gt;-&lt;/button&gt;


&lt;!-- JavaScript --&gt;

&lt;script src="...jquery.js"&gt;&lt;/script&gt;
&lt;script src="...kefir.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript"&gt;

  var plusClicks = Kefir.fromEvent($('#plus-btn'), 'click');
  var minusClicks = Kefir.fromEvent($('#minus-btn'), 'click');

  var counterChanges = Kefir.merge([
    plusClicks.mapTo(1),
    minusClicks.mapTo(-1)
  ]);

  function sum(a, b) {
    return a + b;
  }

  var counterValue = counterChanges.scan(sum, 0);

  counterValue.onValue(function(n) {
    $('#result').text(n);
  });

&lt;/script&gt;

</pre>

      <br>
      <br>

      <script type="text/javascript">

        var plusClicks = Kefir.fromEvent($('#plus-btn'), 'click');
        var minusClicks = Kefir.fromEvent($('#minus-btn'), 'click');

        var counterChanges = Kefir.merge([
          plusClicks.mapTo(1),
          minusClicks.mapTo(-1)
        ]);

        function sum(a, b) {
          return a + b;
        }

        var counterValue = counterChanges.scan(sum, 0);

        counterValue.onValue(function(n) {
          $('#result').text(n);
        });

      </script>

    </body>
</html>
